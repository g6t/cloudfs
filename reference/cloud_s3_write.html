<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Writes an R object to a file in project's S3 folder. In most
cases it is expected to be used for writing data.frames as csv, sav or any
other tabular data formats to S3. But it is also possible to save any R
object if a proper saving function is provided. It tries to guess a
suitable writing function and the output file name where possible."><title>Write an object to S3 — cloud_s3_write • cloudfs</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Fira_Code-0.4.7/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Write an object to S3 — cloud_s3_write"><meta property="og:description" content="Writes an R object to a file in project's S3 folder. In most
cases it is expected to be used for writing data.frames as csv, sav or any
other tabular data formats to S3. But it is also possible to save any R
object if a proper saving function is provided. It tries to guess a
suitable writing function and the output file name where possible."><meta property="og:image" content="https://g6t.github.io/cloudfs/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">cloudfs</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/cloudfs.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/g6t/cloudfs/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Write an object to S3</h1>
      <small class="dont-index">Source: <a href="https://github.com/g6t/cloudfs/blob/HEAD/R/s3_transfer.R" class="external-link"><code>R/s3_transfer.R</code></a></small>
      <div class="d-none name"><code>cloud_s3_write.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Writes an R object to a file in project's S3 folder. In most
cases it is expected to be used for writing data.frames as csv, sav or any
other tabular data formats to S3. But it is also possible to save any R
object if a proper saving function is provided. It tries to guess a
suitable writing function and the output file name where possible.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cloud_s3_write</span><span class="op">(</span><span class="va">x</span>, <span class="va">file</span>, fun <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span>, local <span class="op">=</span> <span class="cn">FALSE</span>, root <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>an R object (e.g. data frame) to write to S3.</p></dd>


<dt>file</dt>
<dd><p>Path to a file relative to project folder root. Can contain only
letters, digits, '-', '_', '.', spaces and '/' symbols.</p></dd>


<dt>fun</dt>
<dd><p>a function to write a file to cloud location to which x and a file
path will be passed (in that order). By default, if <code>fun = NULL</code>, it will
be attempted to find an appropriate writing function based on the file
extension.</p></dd>


<dt>...</dt>
<dd><p>further parameters to pass to <code>fun</code></p></dd>


<dt>local</dt>
<dd><p>(logical) If <code>TRUE</code>, will additionally create a local file at
the corresponding path. Default is <code>FALSE</code>.</p></dd>


<dt>root</dt>
<dd><p>S3 path of the project root -- point relative to which to
consider all relative paths. When left as <code>NULL</code>, the root is automatically
derived from the <code>cloudfs.s3</code> field of the project's DESCRIPTION file.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="default-writing-functions">Default writing functions<a class="anchor" aria-label="anchor" href="#default-writing-functions"></a></h2>
    


<p>Here's how we identify a writing function based on file extension</p><ul><li><p><code>.csv</code>: <a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">readr::write_csv</a></p></li>
<li><p><code>.json</code>: <a href="https://rdrr.io/pkg/jsonlite/man/read_json.html" class="external-link">jsonlite::write_json</a></p></li>
<li><p><code>.rds</code>: <a href="https://rdrr.io/r/base/readRDS.html" class="external-link">base::saveRDS</a></p></li>
<li><p><code>.xls</code>: <a href="https://docs.ropensci.org/writexl/reference/write_xlsx.html" class="external-link">writexl::write_xlsx</a></p></li>
<li><p><code>.xlsx</code>: <a href="https://docs.ropensci.org/writexl/reference/write_xlsx.html" class="external-link">writexl::write_xlsx</a></p></li>
<li><p><code>.sav</code>: <a href="https://haven.tidyverse.org/reference/read_spss.html" class="external-link">haven::write_sav</a></p></li>
<li><p><code>.xml</code>: <a href="http://xml2.r-lib.org/reference/write_xml.html" class="external-link">xml2::write_xml</a></p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># write mtcars dataframe to mtcars.csv in data folder</span></span></span>
<span class="r-in"><span><span class="fu">cloud_s3_write</span><span class="op">(</span><span class="va">mtcars</span>, <span class="st">"data/mtcars.csv"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">cloud_s3_write</span><span class="op">(</span><span class="va">random_forest</span>, <span class="st">"models/random_forest.rds"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># provide custom writing function with parameters </span></span></span>
<span class="r-in"><span><span class="fu">cloud_s3_write</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"one"</span>, <span class="st">"two"</span><span class="op">)</span>, <span class="st">"text/count.txt"</span>, <span class="va">writeLines</span>, sep <span class="op">=</span> <span class="st">"\n\n"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://github.com/idmn" class="external-link">Iaroslav Domin</a>, <a href="https://github.com/StefanMusch" class="external-link">Stefan Musch</a>, <a href="https://github.com/mczyzj" class="external-link">Michal Czyz</a>, <a href="https://github.com/EmmanuelUgo" class="external-link">Emmanuel Ugochukwu</a>, <a href="https://www.gradientmetrics.com/" class="external-link"><img src="https://www.gradientmetrics.com/hubfs/branding/default/gradient_default_black.png" width="108"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

